# 在文件中移动

一开始, 通过键盘移动会让你感觉特别慢特别不自在, 但是不要放弃! 一旦你习惯了它, 比起鼠标你可以在文件中更快的去到任何地方.

这一章, 你将学习必要的移动以及如何高效的使用它们, 记住, 这一章所讲的并不是Vim的全部移动命令, 我们的目标是介绍有用的移动来快速提高生产力. 如果你需要学习更多的移动命令, 查看`:h motion.txt`.

# 字符导航

最基本的移动单元是上下左右移动一个字符.
```
h   左
j   下
k   上
l   右
```
你也可以通过方向键进行移动, 如果你只是初学者, 使用任何你觉得最舒服的方法都没有关系.

我更喜欢`hjkl`因为我的右手可以保持在键盘上的默认姿势, 这样做可以让我更快的敲周围的键. 为了习惯它, 我实际上在刚开始的时候通过`~/.vimrc`关闭了方向键:
```
noremap <Up> <NOP>
noremap <Down> <NOP>
noremap <Left> <NOP>
noremap <Right> <NOP>
```
也有一些插件可以帮助改掉这个坏习惯, 其中有一个叫[vim-hardtime](https://github.com/takac/vim-hardtime). 让我感到惊讶的是, 我只用了几天就习惯了使用`hjkl`.

另外, 如果你想知道为什么vim使用`hjkl`进行移动, *这实际上是因为Bill Joy写VI用的Lear-Siegler ADM-3A终端没有方向键, 而是把`hjkl`当做方向键*.

如果你想移动到附近的某个地方, 比如从一个单词的一个部分移动到另一个部分, 我会使用`h`和`l`. 如果我需要在可见的范围内上下移动几行, 我会使用`j`和`k`. 如果我向去更远的地方, 我倾向于使用其他移动命令.

# 相对行号

我觉得设置`number`和`relativenumber`非常有用, 你可以在`~/.vimrc`中设置:
```
set relativenumber number
```
这将会展示我的当前行号和其他行相对我的行号.

为什么这个功能有用呢? 者这个功能能够帮助我知道我离我的目标位置差了多少行, 有了它我可以很轻松的知道我的目标行在我下方12行, 因此我可以使用`12j`去前往. 否则, 如果我在69行, 我的目标是81行, 我需要去计算81-69=12行, 这太花费脑子了. 当我需要去一个地方时, 我需要动脑子的部分越少越好.

这个是100%的个人偏好, 你可以尝试`relativenumber`/`norelativenumber`, `number`/`nonumber` 然后选择自己觉得最有用的.

# 对你的移动计数

还有一件事情, 让我们讨论一下"计数"参数, 移动可以接受一个数字前缀作为参数, 上面我提到的你可以通过`12j`向下移动12行, 其中`12j`中的12就是计数数字.

你使用带计数的移动的语法如下:
```
[计数] + 移动
```
你可以把这个应用到所有移动上, 如果你想向右移动9个字符, 你可以使用`9l`来代替按9次`l`. 当你学到了更多的动作时, 你都可以试试给定计数参数.

# 单词导航


我们现在移动一个更长的单元:单词(word). 你可以通过`w`移动到下一个单词的开始, 通过`e`移动到下一个单词的结尾, 通过`b`移动到上一个单词的开始, 通过`ge`移动到前一个单词的结尾.

另外, 为了和上面说的单词(word)做个区分, 还有一种移动的单元:词组(WORD). 你可以通过`W`移动到下一个单词的开始, 通过`E`移动到下一个单词的结尾, 通过`B`移动到前一个单词的开头, 通过`gE`移动到上一个单词的结尾. 为了方便记忆, 所以选择了我们选择了词组和单词这两个词, 相似但有些区分.

```
w   移动到下一个单词的开头
W   移动到下一个词组的开头
e   移动到下一个单词的结尾
E   移动到下一个词组的结尾
b   移动到前一个单词的开头
B   移动到前一个词组的开头
ge  移动到前一个单词的结尾
gE  移动到前一个词组的结尾
```

那么, 词组和单词有什么相同和不同呢? 单词和词组都按照非空字符被分割, 一个单词指的是一个只包含`a-zA-Z0-9`字符串, 一个词组指的是一个包含除了空字符(包括空格,tab, EOL)以外的字符的字符串. 你可以通过`:h word`和`:h WORD`了解更多.

例如, 假如你有下面这段内容:
```
const hello = "world";
```
当你光标位于这行的开头时, 你可以通过`l`走到行尾, 但是你需要按21下, 使用`w`, 你需要6下, 使用`W`只需要4下. 单词和词组都是短距离移动的很好的选择.

然而, 你可以通过当前行导航只按一次从`c`移动到`;`

# 当前行导航

当你

# 行号导航

你可以通过`nG`调到行号为`n`的行, 例如如果你想跳到第7行, 你可以使用`7G`, 跳到第一行使用`gg`或`1G`, 跳到最后一行使用`G`.

有时你不知道你想去的位置的具体行号, 但是知道它大概在整个文件的70%左右的位置, 你可以使用`70%`跳过去, 可以使用`50%`跳到文件的中间.

```
gg      跳转到第一行
G       跳转到最后一行
nG      跳转到第n行
n%      跳到文件的n%
```
另外, 如果你想看文件总行数, 可以用`CTRL-g`查看.

# 窗格导航
为了移动到当前窗格的顶部, 中间, 底部, 你可以使用`H`, `M`和`L`.

你也可以给`H`和`L`传一个数字前缀. 如果你输入`10H`你会跳转到窗格顶部往下数10行的位置, 如果你输入`3L`, 你会跳转到距离当前窗格的底部一行向上数3行的位置.

```
H   跳转到屏幕的顶部
M   跳转到屏幕的中间
L   跳转到屏幕的底部
nH  跳转到距离顶部n行的位置
nL  跳转到距离底部n行的位置
```

# 滚动
在文件中滚动, 你有三种速度可以选择: 滚动一整页(`CTRL-F`/`CTRL-B`), 滚动半页(`CTRL-D`/`CTRL-U`), 滚动一行`CTRL-E`/`CTRL-Y`).


